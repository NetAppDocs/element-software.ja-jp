= ドライブの追加と取り外しを行う際のベストプラクティス
:allow-uri-read: 


ドライブに障害が発生した場合や、ドライブの摩耗度がしきい値を下回った場合は、交換する必要があります。Element ソフトウェア UI のアラームは、ドライブで障害が発生した場合や障害が発生した場合に通知されます。障害が発生したドライブをホットスワップできます。

.このタスクについて
この手順は、 H410S および H610S ストレージノードのドライブを交換する場合の手順です。削除したドライブはオフラインになります。ドライブ上のデータはすべて削除され、クラスタ内の他のドライブに移行されます。システム内の他のアクティブドライブへのデータ移行には、クラスタの容量利用率とアクティブな I/O に応じて、数分から 1 時間かかります。ドライブの取り外しおよび交換時には、次のベストプラクティスに従ってください。

* 取り付け準備ができるまで、ドライブを ESD バッグに入れたままにしておきます。
* ESD バッグを手で開けるか、バッグの上部をハサミで切り落とします。
* 作業中は常に ESD リストストラップを着用し、シャーシの塗装されていない表面部分にリストストラップを接触させます。
* 取り外し、取り付け、持ち運びなど、ドライブを扱うときは常に両手で作業してください。
* ドライブをシャーシに無理に押し込まないでください。
* ドライブを発送するときは、必ず承認された梱包材を使用し
* ドライブ同士を積み重ねないでください。




== ドライブの追加と取り外しを行う際のベストプラクティス

* スライスドライブを追加する前に、ブロックドライブをすべて追加し、ブロックの同期が完了していることを確認します。
* Element ソフトウェア 10.x 以降の場合は、すべてのブロックドライブを一度に追加します。一度に 3 つ以上のノードに対してこの処理を実行しないでください。
* Element ソフトウェア 9.x 以前では、 3 本のドライブを一度に追加して完全に同期したあとに、次の 3 つのグループを追加してください。
* スライスドライブを取り外し、ブロックドライブを取り外す前にスライスの同期が完了したことを確認します。
* 一度に 1 つのノードからすべてのブロックドライブを削除します。ブロックの同期がすべて完了してから次のノードに進んでください。


.手順
. NetApp Element ソフトウェア UI を使用して、ドライブをクラスタから削除します。
+
.. Element UI で、 * Cluster > Drives * を選択します。
.. Failed * を選択すると、障害ドライブのリストが表示されます。
.. 障害が発生したドライブのスロット番号をメモします。この情報は、障害が発生したドライブをシャーシ内で特定する際に必要になります。
.. 削除するドライブに対して * Actions * を選択します。
.. 「 * 削除」を選択します。
+

NOTE: アクティブドライブを削除するための十分な容量がない場合は、ドライブの削除を確定した時点でエラーメッセージが表示されます。エラーを解決したら、ドライブをシャーシから物理的に取り外すことができます。



. シャーシからドライブを交換します。
+
.. 交換用ドライブを開封し、ラックの近くの静電気防止処置を施した平らな場所に置きます。障害ドライブをネットアップに返却するときのために、梱包材は保管しておいてください。H610S ストレージノードとドライブを搭載した H410S ストレージノードの前面図は次のとおりです。
+
image::h610s_h410s.png[は、 H610S ストレージノードと H410S ストレージノードの前面を示しています。]

.. （ * H410S のみ * ）次の手順を実行します。
+
... シリアル番号（サービスタグ）と Element UI でメモした番号を照合して、ノードを特定します。シリアル番号は、各ノードの背面にあるステッカーに記載されています。ノードを特定したら、スロット情報を使用して、障害ドライブが取り付けられているスロットを特定できます。ドライブは、 A ~ D のアルファベット順と 0 ~ 5 のアルファベット順に配置されています。
... ベゼルを取り外します。
... 障害が発生したドライブのリリースボタンを押します。
+
image::h410s_drive.png[は、 H410S ストレージノードのドライブのリリースボタンを示しています。]

+
リリースボタンを押すと、ドライブのカムハンドルが途中まで開き、ドライブがミッドプレーンから外れます。

... カムハンドルを開き、両手でドライブを慎重に引き出します。
... 静電気防止処置を施した平らな場所にドライブを置きます。
... 両手を使用して、交換用ドライブをスロットに最後まで挿入します。
... カムハンドルをカチッと音がするまで押し下げます。
... ベゼルを再度取り付けます。
... ドライブを交換したことをネットアップサポートに通知します。ネットアップサポートから障害ドライブの返却手順をお知らせします。


.. （ * H610S のみ * ）次の手順を実行します。
+
... Element UI から取得した障害ドライブのスロット番号を、シャーシの番号と照合します。障害が発生したドライブの LED は黄色に点灯します。
... ベゼルを取り外します。
... リリースボタンを押し、次の図に示すように障害が発生したドライブを取り外します。
+
image::h610s_driveremove.png[H610S ノードから削除しているドライブが表示されます。]

+

NOTE: ドライブをシャーシから引き出す前に、トレイハンドルが完全に開いていることを確認します。

... ドライブを引き出し、静電気防止処置を施した平らな場所に置きます。
... 交換用ドライブをドライブベイに挿入する前に、ドライブのリリースボタンを押します。ドライブトレイのハンドルが開きます。
+
image::H600S_driveinstall.png[に、 H610S ノードに設置されているドライブを示します。]

... 力を入れすぎないように交換用ドライブを挿入します。ドライブが完全に挿入されると、カチッという音がします。
... ドライブトレイのハンドルを慎重に閉じます。
... ベゼルを再度取り付けます。
... ドライブを交換したことをネットアップサポートに通知します。ネットアップサポートから障害ドライブの返却手順をお知らせします。




. Element UI を使用してドライブをクラスタに再度追加します。
+

NOTE: 既存のノードに新しいドライブをインストールすると、ドライブが自動的に * Available * として Element UI に登録されます。ドライブがクラスタに参加できるようにするには、ドライブをクラスタに追加する必要があります。

+
.. Element UI で、 * Cluster > Drives * を選択します。
.. 使用可能なドライブのリストを表示するには、「 * Available * 」を選択します。
.. 追加するドライブの Actions （アクション）アイコンを選択し、 * Add * （追加）を選択します。






== 詳細については、こちらをご覧ください

* https://www.netapp.com/data-storage/solidfire/documentation/["NetApp SolidFire のリソースページ"^]
* https://docs.netapp.com/sfe-122/topic/com.netapp.ndc.sfe-vers/GUID-B1944B0E-B335-4E0B-B9F1-E960BF32AE56.html["以前のバージョンの NetApp SolidFire 製品および Element 製品に関するドキュメント"^]

